---
export interface Props {
  folder: string;
}

import Icon from "astro-icon";
const { folder } = Astro.props;
var allPosts = await Astro.glob("../content/projects/*.md");
if (folder === "blogs") {
  allPosts = await Astro.glob("../content/blogs/*.md");
}
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())];
---

<div class="tag-list">
  <div class="w-6">
    <Icon name="carbon:tag" />
  </div>
  <ul class="article-tags expanded">
    {
      tags.map((tag) => (
        <li class="tag">
          <a href={`/${folder}/tags/${tag}`}>{tag}</a>
        </li>
      ))
    }
  </ul>
</div>

<style>
  .tag {
    @apply bg-slate-100 text-slate-700 text-sm p-2  rounded-md transition-all !py-0.5 hover:-translate-y-0.5;
  }
  .tag-list {
    @apply flex items-center gap-2 p-2 border border-transparent  rounded-lg;
  }
  .tag-list.active {
    @apply border-slate-200;
  }
  .article-tags {
    @apply transition-all max-w-0 overflow-hidden flex gap-2 py-2;
  }
  .article-tags.expanded {
    @apply max-w-full;
  }
</style>
